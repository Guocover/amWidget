window.AW=window.AW||{},function(){"use strict";var t=navigator.userAgent,o={attr:{isIn:t.indexOf("AlipayClient")>=0,version:function(){var o=[].concat(t.match(/AlipayClient\/([^\s]+)/)||"")[1]||"";return""!=o&&(o=parseFloat(o)),o}()},callBridge:function(){var t=arguments,o=function(){var o=window.AlipayJSBridge;o.call.apply(o,t)};window.AlipayJSBridge?o:document.addEventListener("AlipayJSBridgeReady",function(){o()},!1)},checkJSAPI:function(t){return"undefined"==typeof t||""===t?!1:this.attr.version<8.1?"tradePay"===t||"startApp"===t||"titlebar"===t||"toolbar"===t||"loading"===t||"toast"===t||"login"===t||"sendSMS"===t||"contact"===t?!0:!1:void this.callBridge("checkJSAPI",{api:t},function(t){return t.available})},callApi:function(){"alert"===a.options.type?this.callBridge("alert",{title:a.options.title,message:a.options.message,button:a.options.okButton},function(){console.log("alert dismissed")}):"confirm"===a.options.type&&AlipayJSBridge.call("confirm",{title:a.options.title,message:a.options.message,okButton:a.options.okButton,cancelButton:a.options.cancelButton},function(t){console.log(t.ok)})}},i={init:function(){a.options.callContainer&&o.attr.isIn&&o.checkJSAPI("alert")?o.callApi():this.setCSS().setHTML().show()},isSetCSS:!1,setCSS:function(){var t=this;if(!t.isSetCSS){var o=document.createElement("style");o.dataset.amwid="dialog",o.innerHTML=this.CSSText(),document.head.appendChild(o),t.isSetCSS=!0}return this},isSetHTML:!1,setHTML:function(){var t=this,o=this.HTMLText().replace("<%dialog-title%>",a.options.title);if(o=o.replace("<%dialog-message%>",a.options.message),this.isSetHTML)this.dialogDom.innerHTML=o;else{var i=document.createElement("div");i.className="am-dialog am-dialog-hide",i.innerHTML=o,document.body.appendChild(i),this.dialogDom=i;var e=document.createElement("div");e.className="am-dialog-mask am-dialog-mask-hide",document.body.appendChild(e),this.dialogMaskDom=e,this.isSetHTML=!0}var n=this.cancelButtonHTMLText().replace("<%dialog-cancelButton%>",a.options.cancelButton),s=this.okButtonHTMLText().replace("<%dialog-okButton%>",a.options.okButton);"alert"===a.options.type?document.querySelectorAll(".am-dialog .am-dialog-button-container")[0].innerHTML=n:"confirm"===a.options.type&&(document.querySelectorAll(".am-dialog .am-dialog-button-container")[0].innerHTML=n+s);var l=function(){t.hide()};document.querySelectorAll(".am-dialog .am-dialog-button-container button")[0].addEventListener("click",l,!1);var d=function(){};return document.querySelectorAll(".am-dialog .am-dialog-button-container button")[0].addEventListener("click",d,!1),this},show:function(){this.hide(),this.dialogDom.classList.remove("am-dialog-hide"),this.dialogDom.classList.add("am-dialog-show"),this.dialogMaskDom.classList.remove("am-dialog-mask-hide"),this.dialogMaskDom.classList.add("am-dialog-mask-show")},hide:function(){this.dialogDom&&(this.dialogDom.classList.remove("am-dialog-show"),this.dialogDom.classList.add("am-dialog-hide"),this.dialogMaskDom.classList.remove("am-dialog-mask-show"),this.dialogMaskDom.classList.add("am-dialog-mask-hide"))}},a={};a.options={title:"",message:"",type:"alert",okButton:"确定",cancelButton:"取消",callContainer:!0},a.show=function(t){if("object"==typeof t){for(var o in t)this.options[o]=t[o];t.title&&""!==t.title||(this.options.title=""),t.type&&""!==t.type||(this.options.type="alert"),t.okButton&&""!==t.okButton||(this.options.okButton="确定"),t.cancelButton&&""!==t.cancelButton||(this.options.cancelButton="取消"),i.init()}else"string"==typeof t&&(this.options.message=t,this.options.title="",this.options.type="alert",this.options.okButton="确定",this.options.cancelButton="取消",i.init())},a.alert=function(t,o){var i={};i.type="alert",i.message=t,o&&""!=o&&(i.title=o),a.show(i)},a.confirm=function(t,o){var i={};i.type="confirm",i.message=t,o&&""!=o&&(i.title=o),a.show(i)},a.hide=function(){i.hide()},i.CSSText=function(){var t=".am-dialog{position:fixed;z-index:100;top:45%;width:100%;text-align:center;font-size:16px;font-family:sans-serif;}.am-dialog .am-dialog-text{display:inline-block;margin:-24px auto auto;padding:9px 20px;border-top-left-radius:5px;border-top-right-radius:5px;border-bottom-left-radius:5px;border-bottom-right-radius:5px;-webkit-background-clip:padding-box;color:#FFF;background-color:rgba(0,0,0,0.8);}.am-dialog .am-dialog-text .iconfont{font-size:16px;}.am-dialog-show,.am-dialog-mask-show{display:block;}.am-dialog-hide,.am-dialog-mask-hide{display:none;}.am-dialog .am-icon-error,.am-dialog .am-icon-success{display:inline-block;height:15px;vertical-align:middle;}.am-dialog .am-icon-error{width:13px;}.am-dialog .am-icon-error:before{background-position:0 0;}.am-dialog .am-icon-success{width:16px;}.am-dialog .am-icon-success:before{background-position:-14px 0;}";return t},i.HTMLText=function(){var t='<div class="am-dialog-content">    <div class="am-dialog-title"><%dialog-title%></div>    <p><%dialog-message%></p>    <div class="am-dialog-button-container am-flexbox am-flexbox-average"></div></div>';return t},i.maskHTMLText=function(){var t='<div class="am-dialog-mask"></div>';return t},i.cancelButtonHTMLText=function(){var t='<div class="am-flexbox-item"><button type="button" class="am-button am-button-white"><%dialog-cancelButton%></button></div>';return t},i.okButtonHTMLText=function(){var t='<div class="am-flexbox-item"><button type="button" class="am-button am-button-blue"><%dialog-okButton%></button></div>';return t},window.AW.dialog=a}();