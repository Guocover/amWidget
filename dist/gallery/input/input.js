window.AW=window.AW||{},function(){"use strict";function t(t,e){function n(t){var e,n,i=0,o=t.length,r=[],u=0;for(""===l[0]&&(u=1,r.push(a[0])),n=0;s>n;n++)if(l[n]){if(e=+l[n]+i,r.push(t.slice(i,e)),e>o)break;r.push(a[n+u]),i=e}return r.join("")}var i=[];if(!e)return t;var l=e.split(/[^\d]+/g),a=e.split(/\d+/g),s=l.length;""===a[0]&&a.shift(),""===a[a.length-1]&&a.pop();var o=new RegExp("(\\"+a.join("|\\")+")","g");t=t.replace(o,"");var r,u=t.length,c=l.reduce(function(t,e){return+t+ +e}),h=Math.ceil(u/c),d=0;for(r=0;h>r;r++)i.push(n(t.slice(d,d+c))),d+=c;return i.join("")}function e(e){e.addEventListener("input",function(){var e=this.getAttribute("data-format"),n=(this.getAttribute("coord"),this.value),i=t(n,e),a=this.getAttribute("oldval")||"",s=this.selectionStart,o=0;l.indexOf("linux; u")>-1&&i.length>a.length&&s++,l.indexOf("iphone os 6")>-1&&0==s&&s++,i===a&&" "===i.slice(s,s+1)?(n=n.slice(0,s-1>=0?s-1:0)+n.slice(s),i=t(n,e),o=1):" "===i.slice(s-1,s)&&(i.length>a.length?o=-1:i.length<a.length&&(o=1)),this.value=i;var r,u=this;r=l.indexOf("iphone os 6")>-1?function(){var t,e=0;u.selectionEnd+1>=i.length?e=Math.abs(a.length-i.length):(t=i.slice(s).length-a.slice(s).length)>0?(o=0,o=" "===i.slice(s,s+1)?-1:0,e=1):e=Math.abs(a.slice(0,s).length-i.slice(0,s).length),i.replace(/\s/g,"")===a.slice(1).replace(/\s/g,"")&&(o=1),u.selectionStart=s+e-o,u.selectionEnd=u.selectionStart}:function(){u.selectionStart=s+Math.abs(a.slice(0,s).length-i.slice(0,s).length)-o,u.selectionEnd=u.selectionStart},l.indexOf("linux; u")>-1||l.indexOf("iphone os 6")>-1?setTimeout(function(){r()},0):r(),this.setAttribute("oldval",this.value)},!1)}function n(e){e.addEventListener("input",function(){var e=this.value,n=this.getAttribute("data-format");this.value=t(e,n)})}var i={},l=navigator.userAgent.toLowerCase();i.listen=function(i){i&&!i.length&&(i=[i]),i=i||document.querySelectorAll("input[data-format]"),[].forEach.call(i,function(i){i[0]&&i[0].addEventListener&&(i=i[0]),i._InputFormatBinded||(i.value&&(i.value=t(i.value,i.getAttribute("data-format"))),i._customKeyboard?n(i):e(i),i._InputFormatBinded=!0)})},"complete"===document.readyState?i.listen():document.addEventListener("DOMContentLoaded",function(){i.listen()},!1);var a=i;window.AW.input=a}();