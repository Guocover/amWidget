window.AW=window.AW||{},function(){"use strict";function t(t){t.ele.style["-webkit-user-select"]="none",i(t.ele,"touchend touchmove touchcancel",function(){console.log("touch");var t=this,e=t.getAttribute("data-active-class")||"active";t.classList.remove(e)}),i(t.ele,"touchstart",function(){if(!(t.timeLock>0&&t.isLocked===!0)){var e,o=this,n=o.getAttribute("data-active-class")||"active";o.classList.add(n);var a=function(){clearTimeout(e),u(o,"touchmove",a),u(o,"touchcancel",a),u(o,"touchend",s)},s=function(){t.queue.tap.length&&(t.timeLock>0&&(t.isLocked=!0,!!t.autoDisabled&&o.setAttribute("disabled","disabled"),t.lsto=setTimeout(function(){t.unlock()},t.timeLock)),c(t.queue.tap,function(t,e){try{r(e)&&e.call(o)}catch(n){console&&console.error(n)}})),a()};i(o,"touchmove",a),i(o,"touchcancel",a),i(o,"touchend",s),e=setTimeout(a,500)}})}function e(t){var e=document.querySelectorAll(t);return o(e)}function o(t){var e=[];return c(t,function(o){e.push(t.item(o))}),e}function n(t){var e;return c(f,function(o,n){return n.ele===t?(e=n,!1):void 0}),e}function i(t,e,o,n){var i="string"===l(e)?e.split(" "):[];c(i,function(e,i){t.addEventListener(i,o,!!n)})}function u(t,e,o,n){t.removeEventListener(e,o,!!n)}function c(t,e){for(var o=0;o<t.length;o++){var n=e.call(null,o,t[o]);if(n===!1)break}}function r(t){return"function"===l(t)}function a(t){return"htmlcollection"===l(t)||"nodelist"===l(t)}function s(t){return/^html.+element$/i.test(l(t))}function l(t){return Object.prototype.toString.call(t).replace(/\[object (\w+)\]/,"$1").toLowerCase()}i(document,"DOMContentLoaded",function(){d("[data-active-class]")});var d=function(t,n){var i=[],u=[];"string"===l(t)?i=e(t):a(t)?i=o(t):s(t)&&(i=[t]),c(i,function(t,e){var o=v(e);o.tap(n),u.push(o)});var r=["tap","unlock"];return c(r,function(t,e){u[e]=function(){var t=arguments;return c(this,function(o,n){n[e].apply(n,t)}),this}}),u};d.setTimeLock=function(t){v.prototype.timeLock=t},d.setAutoDisabled=function(t){v.prototype.autoDisabled=t};var f=[],v=function(e){var o,i=this,u=a(e)?e.item(0):e;return i instanceof v?(i.ele=u,i.queue={tap:[]},i.isLocked=!1,i.lsto=null,t(i),f.push(i),o=i):o=n(u)||new v(e),o};v.prototype.timeLock=0,v.prototype.autoDisabled=!1,v.prototype.tap=function(t,e,o){return"boolean"===l(t)&&(o=t,t=void 0,e=void 0),"number"===l(t)&&(o=e,e=t,t=void 0),r(t)&&this.queue.tap.indexOf(t)<0&&this.queue.tap.push(t),"number"===l(e)&&(this.timeLock=e),"boolean"===l(o)&&(this.autoDisabled=o),this},v.prototype.unlock=function(){var t=this;clearTimeout(t.lsto),t.isLocked=!1,!!t.autoDisabled&&t.ele.removeAttribute("disabled")};var h=d;window.AW.button=h}();